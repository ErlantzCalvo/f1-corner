---
import { Image } from "astro:assets";
import wheel from "../../public/f1-wheel.svg";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="container">
  <div class="loader">
    <div class="bounce">
      <Image
        src={wheel}
        alt="Loading Formula 1 wheel animation"
        class="wheel"
        width={100}
        height={100}
      />
    </div>
    {t("spinner.loading")}
  </div>
</div>

<style>
  @keyframes spin {
    100% {
      transform: rotate(-360deg);
    }
  }

  @keyframes bounce {
    from,
    20%,
    53%,
    80%,
    to {
      transform: translate3d(0, 0, 0);
    }

    40%,
    43% {
      transform: translate3d(0, -30px, 0);
    }

    70% {
      transform: translate3d(0, -15px, 0);
    }

    90% {
      transform: translate3d(0, -4px, 0);
    }
  }

  .container {
    width: 100%;
  }

  .loader {
    text-align: center;
    color: var(--primary-color);
    font-size: 0.6em;
  }

  .bounce {
    margin-top: 30px;
    animation: bounce 1.5s infinite;
  }

  .wheel {
    margin-left: auto;
    margin-right: auto;
    fill: var(--primary-color);
    animation: spin 2s linear infinite reverse;
  }
</style>
